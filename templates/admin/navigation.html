{% load static %}
<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
    <div class="position-sticky pt-3">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" href="{% url 'dashboard' %}">
                    <i class="fas fa-tachometer-alt me-2"></i>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'category_list' %}active{% endif %}" href="{% url 'category_list' %}">
                    <i class="fas fa-list me-2"></i>
                    Categories
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'question_list' %}active{% endif %}" href="{% url 'question_list' %}">
                    <i class="fas fa-question-circle me-2"></i>
                    Questions
                </a>
            </li>
            
            <!-- Exam Menu -->
            <li class="nav-item">
                <a class="nav-link d-flex justify-content-between align-items-center {% if 'mock_test' in request.resolver_match.url_name or 'start_mock_test' in request.resolver_match.url_name or 'take_mock_test' in request.resolver_match.url_name %}active{% endif %}" 
                   href="#examSubmenu" 
                   data-bs-toggle="collapse" 
                   aria-expanded="{% if 'mock_test' in request.resolver_match.url_name or 'user_results' in request.resolver_match.url_name or 'user_report' in request.resolver_match.url_name %}true{% else %}false{% endif %}">
                    <span><i class="fas fa-file-alt me-2"></i>Exam</span>
                    <i class="fas fa-angle-down"></i>
                </a>
                <ul class="collapse {% if 'mock_test' in request.resolver_match.url_name or 'user_results' in request.resolver_match.url_name or 'user_report' in request.resolver_match.url_name %}show{% endif %}" id="examSubmenu">
                    <li>
                        <a class="nav-link ps-4 {% if 'mock_test' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'mock_test_categories' %}">
                            <i class="fas fa-play-circle me-2"></i>Mock Test
                        </a>
                    </li>
                    <li>
                        <a class="nav-link ps-4 {% if request.resolver_match.url_name == 'user_results' %}active{% endif %}" href="{% url 'user_results' %}">
                            <i class="fas fa-chart-bar me-2"></i>Results
                        </a>
                    </li>
                    <li>
                        <a class="nav-link ps-4 {% if request.resolver_match.url_name == 'user_report' %}active{% endif %}" href="{% url 'user_report' %}">
                            <i class="fas fa-file-invoice me-2"></i>Report
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        
        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
            <span>Quick Actions</span>
        </h6>
        <ul class="nav flex-column mb-2">
            <li class="nav-item">
                <a class="nav-link text-muted" href="#" data-bs-toggle="modal" data-bs-target="#addCategoryModal">
                    <i class="fas fa-plus me-2"></i>
                    Add Category
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-muted" href="{% url 'question_create' %}">
                    <i class="fas fa-plus-circle me-2"></i>
                    Add Question
                </a>
            </li>
        </ul>
    </div>
</nav>
